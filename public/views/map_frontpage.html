
<div layout="row">
    <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
        <md-toolbar class="md-hue-2">
            <span flex></span>
            <div class="row spinners" ng-show="loading">
                <div class="spinner spinner-bounce-middle"></div>
            </div>
            <div class="md-body-2" ng-hide="loading">Map operations</div>
            <div class="md-body-1" ng-hide="loading">Choose operation from the list</div>
        </md-toolbar>
        <md-list>
            <md-list-item class="md-2-line" role="link" md-ink-ripple>
                <md-tooltip md-direction="right">Click on a layer from the list to add it to the map</md-tooltip>
                <md-icon md-svg-icon="maps:ic_layers_24px" aria-label="Add Polygon" flex="12"></md-icon>
                <md-select placeholder="Choose a layer" name="layerChoice" ng-model="layer" md-on-open="loadLayers()" flex="60" md-on-close="">
                    <i>Point layers</i>
                    <md-option ng-value="layer" ng-click="getLayerInfo(layer)" ng-repeat="layer in layers | filter: {datatype: 'Point'}"><a>{{layer.layername}}</a></md-option>
                    <p ng-show="(layers | filter:{datatype: 'Point'}).length == 0"><i>There are no point layers in the database!</i></p>
                    <i>Line layers</i>
                    <md-option ng-value="layer" ng-click="getLayerInfo(layer)" ng-repeat="layer in layers | filter: {datatype: 'Line'}"><a>{{layer.layername}}</a></md-option>
                    <p ng-show="(layers | filter:{datatype: 'Line'}).length == 0"><i>There are no line layers in the database!</i></p>
                    <i>Polygon layers</i>
                    <md-option ng-value="layer" ng-click="getLayerInfo(layer)" ng-repeat="layer in layers | filter: {datatype: 'Polygon'}"><a>{{layer.layername}}</a></md-option>
                    <p ng-show="(layers | filter:{datatype: 'Polygon'}).length == 0"><i>There are no polygon layers in the database!</i></p>
                </md-select>
                <div flex="15">
                </div>
            </md-list-item>
            <md-divider></md-divider>
            <md-subheader  class="md-no-sticky">Operations</md-subheader>
            <md-list-item class="md-2-line" role="link" md-ink-ripple ng-click="showBufferWindow()">
                <md-tooltip md-direction="right">Click here to create buffer</md-tooltip>
                <md-icon md-svg-icon="av:ic_album_24px" aria-label="Add Point" flex="12"></md-icon>
                <div class="md-list-item-text" flex="60">
                    <span class="md-body-2">Create buffer</span>
                </div>
            </md-list-item>
            <md-list-item class="md-2-line" role="link" md-ink-ripple ng-click="showIntersectionWindow()">
                <md-tooltip md-direction="right">Click here to find interection between a town in Norway and a layer</md-tooltip>
                <md-icon md-svg-icon="editor:ic_multiline_chart_24px" flex="12"></md-icon>
                <div class="md-list-item-text" flex="60">
                    <span class="md-body-2">Find intersection</span>
                </div>
            </md-list-item>
            <md-list-item class="md-2-line" role="link" md-ink-ripple ng-click="showContainsWindow()">
                <md-tooltip md-direction="right">Click here to find all the points inside a geographic area</md-tooltip>
                <md-icon md-svg-icon="editor:ic_multiline_chart_24px" flex="12"></md-icon>
                <div class="md-list-item-text" flex="60">
                    <span class="md-body-2">Contains</span>
                </div>
            </md-list-item>
            <md-divider></md-divider>
            <md-list-item class="md-2-line" role="link" md-ink-ripple ng-click="removeLayerWindow()">
                <md-tooltip md-direction="right">Click here to remove a layer from the map</md-tooltip>
                <md-icon md-svg-icon="action:ic_delete_24px" flex="12"></md-icon>
                <div class="md-list-item-text" flex="60">
                    <span class="md-body-2">Remove Layer</span>
                </div>
            </md-list-item>
            <md-list-item class="md-2-line" role="link" md-ink-ripple ng-click="showAddNewLayerToDatabaseWindow()">
                <md-tooltip md-direction="right">Click here to add a new Layer from cartoDB to the database</md-tooltip>
                <md-icon md-svg-icon="action:ic_note_add_24px" flex="12"></md-icon>
                <div class="md-list-item-text" flex="60">
                    <span class="md-body-2">Add new layer</span>
                </div>
            </md-list-item>
        </md-list>
    </md-sidenav>
    <div layout="column" class="relative" layout-fill role="main">
        <!--<md-button class="md-fab md-fab-bottom-right" aria-label="Add" ng-click="showAdd($event)">
            &lt;!&ndash; ADD DATASETT &ndash;&gt;
            <md-tooltip md-direction="top">Upload a new dataset</md-tooltip>
            <md-icon md-svg-icon="content:ic_add_24px" aria-label="Plus"></md-icon>
        </md-button>-->
        <md-toolbar class="animate-show md-tall md-whiteframe-z1" ng-show="!showSearch">
            <div class="md-toolbar-tools">
                <md-button class="md-icon-button" ng-click="toggleSidenav('left')" hide-gt-md aria-label="Menu">
                    <md-icon md-svg-icon="navigation:ic_menu_24px" aria-label="Menu"></md-icon>
                </md-button>
                <h3>
                    EasyGIS
                </h3>
                <span flex></span>
                <md-button class="md-icon-button" aria-label="Search" ng-click="toggleSearch()">
                    <md-icon md-svg-icon="action:ic_search_24px" aria-label="Search"></md-icon>
                </md-button>
                <md-button class="md-icon-button" aria-label="Open Settings" ng-click="showListBottomSheet($event)">
                    <md-icon md-svg-icon="navigation:ic_more_vert_24px" aria-label="More"></md-icon>
                </md-button>
            </div>
            <span flex></span>
            <md-tabs md-stretch-tabs="always" md-selected="data.selectedIndex">
                <md-tab id="tab1" aria-controls="tab1-content">
                    Map
                </md-tab>
                <md-tab id="tab2" aria-controls="tab2-content">
                    Tutorial
                </md-tab>
            </md-tabs>
        </md-toolbar>
        <md-toolbar ng-show="showSearch" class="animate-show md-hue-1 md-whiteframe-z1">
            <div class="md-toolbar-tools">
                <md-button class="md-icon-button" ng-click="toggleSearch()" aria-label="Menu">
                    <md-icon md-svg-icon="navigation:ic_arrow_back_24px" aria-label="Back"></md-icon>
                </md-button>
                <h3 role="button" ng-click="toggleSearch()">
                    Back
                </h3>
                <span flex="5"></span>
            </div>
        </md-toolbar>
        <md-content flex>
            <leaflet lf-center="center" controls="controls" width="100%" height="600px"></leaflet>
            <PRE>Saved items :{{savedItems | json}}</PRE>
        </md-content>
    </div>
</div>

